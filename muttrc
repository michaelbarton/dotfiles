#{{{ Sending messages

set realname = "Michael Barton"
set from = "mail@michaelbarton.me.uk"

set edit_headers
my_hdr X-URL: http://www.michaelbarton.me.uk
my_hdr X-GPG-Key-Server: http://pgp.mit.edu
my_hdr X-GPG-Key-FingerPrint: 9619 957F 2D61 E0ED 1082  817D 2881 E238 6057 CB48
my_hdr X-GPG-Public_Key: http://pgp.mit.edu:11371/pks/lookup?op=get&search=0x2881E2386057CB48

#}}}

#{{{ Receive mail

set folder = $HOME/.maildb
mailboxes ~/.maildb/michaelbarton/INBOX
set postponed = "+michaelbarton/[Google Mail].Drafts"
set record    = "+michaelbarton/[Google Mail].Sent Mail"
set spoolfile = "+michaelbarton/INBOX"
set mbox_type = Maildir

# }}}

#{{{ Send mail

set smtp_url = "smtp://$from@smtp.gmail.com:587"
set smtp_pass = `get-pass gmail`

# }}}

#{{{ Misc

set editor = "gvim -f"
set mail_check = 60
set timeout = 60
set header_cache=~/.mutt/cache/headers
set message_cachedir=~/.mutt/cache/bodies
set certificate_file=~/.mutt/certificates
set move = no
set include
set sort = 'threads'
set sort_aux = 'reverse-last-date-received'
set auto_tag = yes
alternative_order text/plain text/html *
auto_view text/html
bind editor ^T complete
set query_command="/usr/local/bin/lbdbq '%s'"

#}}}

#{{{ Header settings

# Ignore all headers
ignore *

# Then un-ignore the ones I want to see
unignore From:
unignore To:
unignore Reply-To:
unignore Subject:
unignore Date:
unignore Organization:
unignore Newsgroups:
unignore CC:
unignore BCC:
unignore User-Agent:

# Now order the visable header lines
hdr_order Date: From: To: CC: BCC: Reply-To: Subject: Organization: User-Agent:

#}}}

#{{{ GPG

set pgp_decode_command="gpg %?p?--passphrase-fd 0? --no-verbose --batch --output - %f"
set pgp_verify_command="gpg --no-verbose --batch --output - --verify %s %f"
set pgp_decrypt_command="gpg --passphrase-fd 0 --no-verbose --batch --output - %f"
set pgp_sign_command="gpg --no-verbose --batch --output - --passphrase-fd 0 --armor --detach-sign --textmode %?a?-u %a? %f"
set pgp_clearsign_command="gpg --no-verbose --batch --output - --passphrase-fd 0 --armor --textmode --clearsign %?a?-u %a? %f"
set pgp_encrypt_only_command="pgpewrap gpg --batch --quiet --no-verbose --output - --encrypt --textmode --armor --always-trust --encrypt-to 6057CB48 -- -r %r -- %f"
set pgp_encrypt_sign_command="pgpewrap gpg --passphrase-fd 0 --batch --quiet --no-verbose --textmode --output - --encrypt --sign %?a?-u %a? --armor --always-trust --encrypt-to 0x6057CB48 -- -r %r -- %f"
set pgp_import_command="gpg --no-verbose --import -v %f"
set pgp_export_command="gpg --no-verbose --export --armor %r"
set pgp_verify_key_command="gpg --no-verbose --batch --fingerprint --check-sigs %r"
set pgp_list_pubring_command="gpg --no-verbose --batch --with-colons --list-keys %r" 
set pgp_list_secring_command="gpg --no-verbose --batch --with-colons --list-secret-keys %r" 
set pgp_autosign=yes
set pgp_sign_as=0x6057CB48
set pgp_replyencrypt=yes
set pgp_timeout=1800
set pgp_good_sign="^gpg: Good signature from"

#}}}

#{{{ Colors

color header cyan default .
color header yellow default ^From
color header yellow default ^Subject
color body yellow default [_a-z\.\$A-Z0-9-]+@[a-zA-Z0-9\./\-]+
color body yellow default (http|ftp)://[_a-zA-Z0-9\?\=\&\@\%\#\:\,\./~\-]+
color quoted green default
color quoted1 cyan default
color quoted2 magenta default
color signature cyan black
color attachment magenta default
color tree white default
color indicator black yellow
color status blue black
color tilde blue default
color normal white default

color index      white         default "~p"
color index      green   default "! ~p"

color header     yellow         default    "importance: "
color header     blue           default    "importance: normal"
color header     brightred      default    "importance: high"
color index      brightyellow    default    "~h 'importance: high'"
color header     yellow         default    "precedence: "
color header     blue           default    "priority: "
color header     brightred      default    "priority: high"
color header     red            default    "priority: urgent"
color index      brightyellow    default    "~h 'priority: high'"
color index      brightyellow    default    "~h 'priority: urgent'"
color header     blue           default    "priority: normal"
color header     brightred      default    "x-priority: "
color header     yellow         default    "X-MSMail-Priority: "
color index      brightred      default    "~F"
color index      yellow         default    "~N"
color index      brightyellow   default    "~N ~p"
color index      brightblue     default    "~T"    # Tagged
color index      red            default    "~D"       # Delete

# }}}
