#!/bin/bash
set -e

TXT=`mktemp -t todo.XXXXXX`.txt
PS=`mktemp -t todo.XXXXXX`.ps
PDF=`mktemp -t todo.XXXXXX`.pdf
OUT=~/Desktop/sheets.pdf

DIR=~/Dropbox/personal/wiki
DAILY="$DIR/Daily Todo.wiki"
EVEN="$DIR/Evening Todo.wiki"
WEEK="$DIR/Week Days Todo.wiki"

for i in `seq 1 5`; do
    cat "$DAILY" >> $TXT
done

sed -n '1,10p' "$WEEK" >> $TXT
cat "$EVEN" >> $TXT

sed -n '21,30p' "$WEEK" >> $TXT
cat "$EVEN" >> $TXT

sed -n '31,40p' "$WEEK" >> $TXT
cat "$EVEN" >> $TXT

sed -n '41,50p' "$WEEK" >> $TXT
cat "$EVEN" >> $TXT

sed -n '51,60p' "$WEEK" >> $TXT
cat "$EVEN" >> $TXT

sed -n '61,70p' "$WEEK" >> $TXT
cat "$EVEN" >> $TXT

sed -n '71,80p' "$WEEK" >> $TXT


enscript $TXT -B -o $PS -f Courier@13.5
pstopdf $PS -o $PDF
pdfjam --nup 2x2 $PDF --outfile $OUT
